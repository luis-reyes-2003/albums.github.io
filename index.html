<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Mis 500 álbumes favoritos." />
  <title>Mis 500 álbumes favoritos.</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <nav class="nav container">
      <div class="brand">
        <div class="logo"></div>
        <span>Mis 500 álbumes favoritos.</span>
      </div>
      <div class="menu">
        <a href="#albums" class="btn">Álbumes</a>
        <a href="#about" class="btn">Sobre mí</a>
      </div>
    </nav>
  </header>

  <main class="container">
    <section id="intro">
      <h1>Bienvenido</h1>
      <p class="lead">Aquí subiré todos mis álbumes favoritos, espero que compartamos gustos similares o bien, logres descubrir cosas nuevas.</p>
    </section>

    <section id="albums">
      <h2>Mis Álbumes Favoritos</h2>
      <div id="albumList" class="album-list"></div>
      <p></p>
      <div class="pagination">
        <button id="prevPage" class="btn">Anterior</button>
        <span id="pageInfo"></span>
        <button id="nextPage" class="btn">Siguiente</button>
      </div>
    </section>

    <section id="sobre-mi" class="container">
      <h2>About me</h2>
      <p>"I'm only a human"</p>
    </section>
  </main>

  <footer>
    <p>© 2025 Mi Top 500.</p>
  </footer>

  <script>
    const albumList = document.getElementById("albumList");
    const prevBtn = document.getElementById("prevPage");
    const nextBtn = document.getElementById("nextPage");
    const pageInfo = document.getElementById("pageInfo");

    let albums = [];
    let currentPage = 1;
    const albumsPerPage = 10; // cantidad de álbumes por página

    async function loadAlbums() {
      try {
        const response = await fetch("albums.json");
        albums = await response.json();
        renderPage();
      } catch (error) {
        albumList.innerHTML = "<p>Error al cargar los álbumes.</p>";
      }
    }

    function renderPage() {
      albumList.innerHTML = "";
      const start = (currentPage - 1) * albumsPerPage;
      const end = start + albumsPerPage;
      const pageAlbums = albums.slice(start, end);

      pageAlbums.forEach((album, i) => {
        const globalIndex = start + i; // mantiene numeración continua entre páginas
        const yearText = album.year ? ` (${album.year})` : "";

        const albumDiv = document.createElement("div");
        albumDiv.className = "album";
        albumDiv.innerHTML = `
          <h2><span class="album-numero">#${globalIndex + 1} - ${album.titulo}${yearText}</span></h2>
          <img src="${album.portada}" alt="Portada de ${album.titulo}">
          <p>${album.artista}</p>
          <p>${album.year}</p>
          <p>${album.genero}</p>
        `;
        albumList.appendChild(albumDiv);
      });

      const totalPages = Math.ceil(albums.length / albumsPerPage);
      pageInfo.textContent = `Página ${currentPage} de ${totalPages}`;

      prevBtn.disabled = currentPage === 1;
      nextBtn.disabled = currentPage === totalPages;
    }

    prevBtn.addEventListener("click", () => {
      if (currentPage > 1) {
        currentPage--;
        renderPage();
      }
    });

    nextBtn.addEventListener("click", () => {
      const totalPages = Math.ceil(albums.length / albumsPerPage);
      if (currentPage < totalPages) {
        currentPage++;
        renderPage();
      }
    });

    loadAlbums();
  </script>
</body>
</html>


